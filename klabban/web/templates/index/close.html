{% from "components/toasts.html" import render_toast %}

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      {% block title %}
      {{ config.APP_TITLE }}
      {% endblock %}
    </title>
    <link rel="stylesheet" href="{{ 'css/app.css' | static_url }}">
    <script src="{{ 'node_modules/jquery/dist/jquery.min.js' | static_url }}"></script>
    <script type="module" src="{{ 'node_modules/cally/dist/cally.js' | static_url }}"></script>
    <script src="{{ 'node_modules/htmx.org/dist/htmx.min.js' | static_url }}"></script>
    <script src="{{ url_for('static', filename='node_modules/chart.js/dist/chart.umd.js') }}"></script>
    <script src="{{ url_for('static', filename='node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.min.js') }}"></script>
    <link rel="stylesheet" type="text/css"
      href="{{ 'node_modules/@phosphor-icons/web/src/regular/style.css' | static_url }}">
    <link rel="stylesheet" type="text/css"
      href="{{ 'node_modules/@phosphor-icons/web/src/fill/style.css' | static_url }}">
    <link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0..1,0" />
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.18/index.global.min.js"></script>
    {% block head %}
    {% endblock head %}
    <style>
      body, html {
        margin: 0;
        padding: 0;
        overflow: hidden;
        height: 100%;
        width: 100%;
      }
    </style>
  </head>

  <body>
    <div class="relative bg-[url(/static/images/close-banner.jpeg)] bg-center bg-no-repeat bg-cover h-screen w-screen flex flex-col">
      {# Login button in upper right corner #}
      <div class="flex flex-row gap-4 absolute top-4 right-4 sm:top-6 sm:right-6 z-20">
        <a class="btn btn-outline border-white/20 text-white/50 hover:text-black rounded-full px-6 font-normal"
           href="{{ url_for('refugees.create_report') }}">
           <i class="ph ph-warning"></i>
           ติดต่อสอบถาม/แจ้งปัญหา
        </a>
        <a class="btn btn-outline border-white/20 text-white/50 hover:text-black rounded-full px-6 font-normal"
          href="{{ url_for('accounts.login') }}">
          <i class="ph ph-user"></i>
          สำหรับเจ้าหน้าที่
          </a>
      </div>

      <div class="flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8">
        <div class="flex flex-col justify-between text-center text-white max-w-4xl w-full space-y-6 sm:space-y-8">
          <div class="h-[5vh]"></div>
          <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-semibold drop-shadow-lg">
            เราจะผ่านพ้นช่วงเวลานี้ไปด้วยกัน
          </h1>
          
          <p class="text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed drop-shadow-md px-4">
            เนื่องจากสถาณการณ์เข้าสู่การณ์เข้าสู่ช่วงการฟื้นฟู จึงขอปิดการเข้าถึงรายชื่อ
            ผู้อพยพในศูนย์พักพิงแบบสาธารณะ ทางทีมผู้พัฒนาจะปฏิบัติตามคําประกาศ
            เกี่ยวกับความเป็นส่วนตัวโดยเคร่งครัด
          </p>
          <div class="h-[40vh]"></div>
          
          <div class="flex flex-col justify-center items-center text-base sm:text-lg md:text-xl lg:text-2xl font-medium drop-shadow-md pt-4">
            <p>hakon.psu.ac.th</p>
            <div class="flex flex-col md:flex-row items-center gap-2 mt-2">
              <div class="flex flex-row">
                <img src="{{ url_for('static', filename='images/logo/psu-logo.png') }}"
                alt="psu-logo" class="h-8 md:h-10 w-auto mr-2" />
                <img src="{{ url_for('static', filename='images/logo/diis-logo.png') }}"
                alt="diis-logo" class="h-8 md:h-10 w-auto mr-2" />
                <img src="{{ url_for('static', filename='images/logo/eng-logo.webp') }}"
                alt="psu-eng-logo" class="h-8 md:h-10 w-auto mr-2" />
              </div>
              <div class="flex flex-row">
                <img src="{{ url_for('static', filename='images/logo/coe_psu.jpg') }}"
                alt="COE PSU" class="h-8 md:h-10 w-auto mr-2" />
                <img src="{{ url_for('static', filename='images/logo/r202.png') }}"
                alt="R202" class="h-8 md:h-10 w-auto mr-2" />
                <img src="{{ url_for('static', filename='images/logo/pupa-logo.png') }}"
                alt="PUPA" class="h-8 md:h-10 w-auto mr-2" />
                <img src="{{ url_for('static', filename='images/logo/import_star.png') }}"
                alt="Import Star" class="h-8 md:h-10 w-auto mr-2" />
                <img src="{{ url_for('static', filename='images/logo/bonmek-logo.png') }}"
                alt="Bonmek" class="h-8 md:h-10 w-auto mr-2" />
                <img src="{{ url_for('static', filename='images/logo/bdi-logo.png') }}"
                alt="BDI" class="h-8 md:h-10 w-auto mr-2" />
              </div>
            </div>
          </div>
        </div>
      </div>
      {# Bottom Privacy Notice Section #}
      <div id="privacy-notice" class="bg-blue-600/90 backdrop-blur-sm border-t border-white/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 sm:py-4">
          <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-4">
            {# Left side - Content #}
            <div class="flex items-start sm:items-center gap-2 sm:gap-3 text-white flex-1 min-w-0">
              <div class="flex items-center gap-2 flex-1 min-w-0">
                <i class="ph ph-shield-check text-lg sm:text-xl shrink-0"></i>
                <div class="min-w-0 flex-1">
                  <h3 class="font-semibold text-xs sm:text-sm leading-tight">นโยบายความเป็นส่วนตัว</h3>
                  <p class="text-xs text-blue-100 leading-tight mt-0.5 hidden sm:block">เราใช้ข้อมูลของคุณเพื่อการช่วยเหลือในสถานการณ์ฉุกเฉิน</p>
                  <p class="text-xs text-blue-100 leading-tight mt-0.5 sm:hidden">ข้อมูลสำหรับสถานการณ์ฉุกเฉิน</p>
                </div>
              </div>
            </div>
            
            {# Right side - Action button #}
            <div  class="flex items-center gap-2 sm:gap-3 w-full sm:w-auto shrink-0">
              <a href="{{ url_for('static', filename='files/privacy-notice.pdf') }}" target="_blank"
                 class="bg-white text-blue-600 px-3 sm:px-4 py-1.5 sm:py-2 rounded-md sm:rounded-lg text-xs sm:text-sm font-medium hover:bg-gray-50 transition-colors flex-1 sm:flex-none text-center">
                <span class="sm:hidden">ข้อมูลเพิ่มเติม</span>
                <span class="hidden sm:inline">ข้อมูลเพิ่มเติม</span>
              </a>
            </div>
            <button onclick="dismissPrivacyNotice()" 
              class="text-white cursor-pointer hover:text-gray-200 transition-colors p-1.5 sm:p-2 shrink-0"
              aria-label="Close">
              <i class="ph ph-x text-base sm:text-lg"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    {% for category, message in get_flashed_messages(with_categories=true) %}
      {{ render_toast(message, category) }}
    {% endfor %}
  </body>
  <script>
   function dismissPrivacyNotice() {
    const privacyNotice = document.querySelector('#privacy-notice');
    if (privacyNotice) {
      privacyNotice.style.display = 'none';
    }
  }
  </script>

</html>